(this.webpackJsonpcan_you_say=this.webpackJsonpcan_you_say||[]).push([[0],{82:function(t,e,a){},87:function(t,e,a){},89:function(t,e,a){"use strict";a.r(e);var s=a(2),n=a(0),r=a.n(n),i=a(24),c=a.n(i),j=a(98),l=a(97),h=a(95),o=a(31),d=a(6),b=(a(62),a(17)),u=a(18),x=a(22),O=a(20),p=a(91),m=a(92),y=a(53),v=a(100),g=a(93),f=a(28),w=a.n(f);function D(t){return void 0===localStorage[t]?"\u672a\u30d7\u30ec\u30a4":C(localStorage[t].split(",")[0])+" ("+localStorage[t].split(",")[1]+")"}function C(t){var e=t%6e3/100;return("000"+Math.floor(t/6e3).toFixed()).slice(-3)+":"+("0"+e.toFixed(2)).slice(-5)}var S=a(99),k=function(t){Object(x.a)(a,t);var e=Object(O.a)(a);function a(){return Object(b.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return""!==this.props.msg?Object(s.jsx)("div",{className:"error",children:Object(s.jsxs)(S.a,{variant:"danger",children:["\u8aad\u307f\u8fbc\u307f\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002\u518d\u8aad\u307f\u8fbc\u307f\u3057\u3066\u304f\u3060\u3055\u3044\u3002(",this.props.msg,")"]})}):Object(s.jsx)("div",{className:"error"})}}]),a}(r.a.Component),T=(a(82),function(t){Object(x.a)(a,t);var e=Object(O.a)(a);function a(t){var s;return Object(b.a)(this,a),(s=e.call(this,t)).state={isOpen:!1,themes:[],errorMsg:""},s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var t=this;w.a.get("./theme.json").then((function(e){t.setState({themes:e.data})})).catch((function(e){t.setState({errorMsg:e.response.status})}))}},{key:"render",value:function(){var t=this;return Object(s.jsxs)("div",{className:"home",children:[Object(s.jsxs)(p.a,{id:"title",children:[Object(s.jsx)("h1",{children:"\u8a00\u3048\u308b\u304b\u306a?"}),Object(s.jsxs)("div",{children:[Object(s.jsx)(m.a,{onClick:function(){return t.setState({isOpen:!t.state.isOpen})},variant:"primary",children:"\u904a\u3073\u65b9"}),Object(s.jsx)(y.a,{in:this.state.isOpen,children:Object(s.jsxs)(v.a,{children:["1. \u4e0b\u306e\u30ea\u30b9\u30c8\u304b\u3089\u6311\u6226\u3057\u305f\u3044\u304a\u984c\u3092\u9078\u629e\u3057\u307e\u3059\u3002",Object(s.jsx)("br",{}),"2. \u30da\u30fc\u30b8\u306b\u98db\u3093\u3067\u3001\u6e96\u5099\u304c\u51fa\u6765\u305f\u3089\u958b\u59cb\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u30663\u79d2\u306e\u30ab\u30a6\u30f3\u30c8\u30c0\u30a6\u30f3\u306e\u5f8c\u958b\u59cb\u3057\u307e\u3059\u3002",Object(s.jsx)("br",{}),"3. \u958b\u59cb\u3057\u305f\u3089\u30d5\u30a9\u30fc\u30e0\u3067\u304a\u984c\u306e\u7b54\u3048\u3092\u51fa\u6765\u308b\u3060\u3051\u5165\u529b\u3057\u307e\u3059\u3002",Object(s.jsx)("br",{}),"4. \u601d\u3044\u6d6e\u304b\u3070\u306a\u304f\u306a\u3063\u305f\u3089\u3001\u964d\u53c2\u30dc\u30bf\u30f3\u3067\u7d42\u4e86\u3057\u307e\u3059\u3002",Object(s.jsx)("br",{}),"5. \u7d50\u679c\u3092\u30c4\u30a4\u30fc\u30c8\u3059\u308b\u30dc\u30bf\u30f3\u304c\u51fa\u3066\u304d\u307e\u3059",Object(s.jsx)("br",{})]})})]})]}),Object(s.jsx)(k,{msg:this.state.errorMsg}),Object(s.jsxs)(g.a,{bordered:!0,id:"theme-list",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{id:"title",children:"\u304a\u984c"}),Object(s.jsx)("th",{id:"answer-cnt",children:"\u6709\u52b9\u56de\u7b54\u6570"}),Object(s.jsx)("th",{id:"personal-best",children:"\u81ea\u5df1\u30d9\u30b9\u30c8"}),Object(s.jsx)("th",{id:"play"})]})}),Object(s.jsx)("tbody",{children:this.state.themes.map((function(t){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:t.title}),Object(s.jsx)("td",{children:t.answerCnt}),Object(s.jsx)("td",{children:D(t.path)}),Object(s.jsx)("td",{children:Object(s.jsx)(o.b,{to:t.path,children:"\u904a\u3076"})})]},t.path)}))})]})]})}}]),a}(r.a.Component)),M=a(96),_=a(55),I=a(94),N=a(56),F=(a(87),function(t){Object(x.a)(a,t);var e=Object(O.a)(a);function a(t){var s;return Object(b.a)(this,a),(s=e.call(this,t)).state={gameData:{name:"-",description:"-",answerCnt:0,answers:[]},playData:{play:0,startUnixTime:0,answerCnt:0,answers:[]},timer:0,timerId:void 0,input:"",errorMsg:""},s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var t=this,e="./data/"+this.props.match.params.id+".json";w.a.get(e).then((function(e){t.setState({gameData:e.data}),t.setState({playData:{play:0,startUnixTime:0,answerCnt:e.data.answerCnt,answers:e.data.answers}})})).catch((function(e){t.setState({errorMsg:e.response.status})}))}},{key:"endGame",value:function(){var t=this.state.playData;t.play=2,this.setState({playData:t}),clearInterval(this.state.timerId),function(t,e,a){var s=localStorage[t],n=void 0===s?0:parseInt(s.split(",")[0]),r=void 0===s?0:parseInt(s.split(",")[1]);(r<a||r===a&&e<n)&&(localStorage[t]=String(e)+","+String(a))}(this.props.match.params.id,this.state.timer,this.state.gameData.answerCnt-this.state.playData.answerCnt)}},{key:"submit",value:function(){var t=this,e=this.state.playData;if(1===this.state.playData.play)e.answers.forEach((function(a){a.answer!==t.state.input||a.solve||(a.solve=!0,a.time=C(t.state.timer),e.answerCnt--)})),this.setState({playData:e,input:""}),0===e.answerCnt&&this.endGame();else if(0===this.state.playData.play){e.play=1,e.answers=this.state.gameData.answers,e.answerCnt=this.state.gameData.answerCnt,e.answers.forEach((function(t){t.solve=!1})),e.startUnixTime=Math.floor((new Date).getTime()/10);var a=setInterval((function(){t.setState({timer:Math.floor((new Date).getTime()/10-e.startUnixTime)})}),10);this.setState({playData:e,timerId:a,input:""})}}},{key:"answerTable",value:function(){var t=this;return this.state.playData.answers.map((function(e){return e.solve?Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:e.answer}),Object(s.jsx)("td",{children:e.time})]},e.answer):2===t.state.playData.play?Object(s.jsxs)("tr",{id:"wrong",children:[Object(s.jsx)("td",{children:e.answer}),Object(s.jsx)("td",{children:e.time})]},e.answer):Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:"-"}),Object(s.jsx)("td",{children:"-"})]},e.answer)}))}},{key:"getTweetText",value:function(){return 2===this.state.playData.play?0===this.state.playData.answerCnt?"\u3042\u306a\u305f\u306f"+C(this.state.timer)+"\u304b\u3051\u3066"+this.state.gameData.answerCnt+"\u500b\u306e"+this.state.gameData.name+"\u3092\u5168\u3066\u8a00\u3048\u307e\u3057\u305f\u3002":"\u3042\u306a\u305f\u306f"+C(this.state.timer)+"\u304b\u3051\u3066"+(this.state.gameData.answerCnt-this.state.playData.answerCnt)+"\u500b\u306e"+this.state.gameData.name+"\u3092\u8a00\u3048\u307e\u3057\u305f\u3002"+this.state.playData.answerCnt+"\u500b\u8a00\u3048\u307e\u305b\u3093\u3067\u3057\u305f\u3002":1===this.state.playData.play?"\u3042\u306a\u305f\u306f"+this.state.gameData.name+"\u3092\u5168\u3066\u8a00\u3046\u306e\u306b\u6311\u6226\u4e2d\u3067\u3059\u3002":this.state.gameData.name+"\u5168\u3066\u8a00\u3048\u308b\u304b\u306a?"}},{key:"render",value:function(){var t=this;return Object(s.jsxs)("div",{className:"play",children:[Object(s.jsxs)(p.a,{id:"title",children:[Object(s.jsx)("h3",{children:this.state.gameData.name}),Object(s.jsxs)("div",{children:[this.state.gameData.description,Object(s.jsx)("br",{}),"\u6709\u52b9\u56de\u7b54\u6570: ",this.state.gameData.answerCnt,Object(s.jsx)("br",{}),"\u81ea\u5df1\u30d9\u30b9\u30c8: ",D(this.props.match.params.id),Object(s.jsx)("br",{})]})]}),Object(s.jsx)(k,{msg:this.state.errorMsg}),Object(s.jsx)(M.a,{children:Object(s.jsxs)(M.a.Row,{className:"align-items-center",children:[Object(s.jsx)(_.a,{xs:"auto",children:Object(s.jsx)(M.a.Control,{type:"text",id:"timer",value:C(this.state.timer),disabled:!0})}),Object(s.jsx)(_.a,{xs:"auto",children:Object(s.jsxs)(I.a,{children:[Object(s.jsx)(I.a.Prepend,{children:Object(s.jsx)(I.a.Text,{children:"\u6b8b\u308a"})}),Object(s.jsx)(M.a.Control,{type:"text",id:"solve-count",value:this.state.playData.answerCnt,disabled:!0})]})}),Object(s.jsx)(_.a,{xs:"auto",children:Object(s.jsx)(M.a.Control,{type:"text",value:this.state.input,onChange:function(e){t.setState({input:e.target.value})},onKeyPress:function(e){"Enter"===e.key&&t.submit()}})}),Object(s.jsx)(_.a,{xs:"auto",children:Object(s.jsx)(m.a,{type:"button",variant:"success",onClick:function(){return t.submit()},children:0===this.state.playData.play?"\u958b\u59cb":"\u56de\u7b54"})}),Object(s.jsx)(_.a,{xs:"auto",children:Object(s.jsx)(m.a,{type:"button",variant:"danger",onClick:function(){return t.endGame()},children:"\u964d\u53c2"})}),Object(s.jsx)(_.a,{xs:"auto",children:Object(s.jsx)(N.a,{url:window.location.href,options:{text:this.getTweetText(),hashtags:"\u8a00\u3048\u308b\u304b\u306a"}})})]})}),Object(s.jsxs)(g.a,{bordered:!0,id:"answer-list",size:"sm",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{id:"answer",children:"\u7b54\u3048"}),Object(s.jsx)("th",{id:"answer-time",children:"\u56de\u7b54\u6642\u9593"})]})}),Object(s.jsx)("tbody",{children:this.answerTable()})]})]})}}]),a}(r.a.Component));var E=function(){return Object(s.jsxs)("div",{className:"app",children:[Object(s.jsxs)(j.a,{bg:"dark",variant:"dark",className:"mr-auto",children:[Object(s.jsx)(j.a.Brand,{href:"/can_you_say",children:"\u8a00\u3048\u308b\u304b\u306a?"}),Object(s.jsx)(j.a.Toggle,{}),Object(s.jsx)(j.a.Collapse,{className:"justify-content-end",children:Object(s.jsx)(l.a,{children:Object(s.jsx)(l.a.Link,{href:"https://github.com/ecto0310/can_you_say",children:"\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9"})})})]}),Object(s.jsx)(h.a,{children:Object(s.jsx)(o.a,{basename:"/can_you_say",children:Object(s.jsxs)(d.c,{children:[Object(s.jsx)(d.a,{exact:!0,path:"/",component:T}),Object(s.jsx)(d.a,{exact:!0,path:"/:id",component:F})]})})})]})},P=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,101)).then((function(e){var a=e.getCLS,s=e.getFID,n=e.getFCP,r=e.getLCP,i=e.getTTFB;a(t),s(t),n(t),r(t),i(t)}))};c.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(E,{})}),document.getElementById("root")),P()}},[[89,1,2]]]);
//# sourceMappingURL=main.0322d827.chunk.js.map